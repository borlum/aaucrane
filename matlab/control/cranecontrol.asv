%==============================================================================
% AAUCrane Control (C1 (X), C2 (W), C3 (Y))
%==============================================================================
% Load models (Mx, My, X, Y, W)
run('../model/cranemodel.m');

%------------------------------------------------------------------------------
% X'(s) Control
%------------------------------------------------------------------------------
% rlocus(Mx) => 10 ?
C3 = 50;
loop1 = feedback(C3*Mx, 1);

%------------------------------------------------------------------------------
% X(s) Control
%------------------------------------------------------------------------------
% Close the loop

% rlocus(loop1 * gear * 1/s) => >10
C1 = 60;
loop2 = feedback(C1 * loop1 * gear * (1/s), 1);

%------------------------------------------------------------------------------
% W(s) Control
%------------------------------------------------------------------------------
C2 = 40;
% rlocus(-loop2*W) 
% Gain can be between (19.7 <= Gain <= 45.8)
% Shows that proportional control is not good enough!
% The minimum overshoot obtainable is ~40% => Sucks...
%C3 = 1;

%------------------------------------------------------------------------------
% Y(s) Control
%------------------------------------------------------------------------------
% rlocus(Y) => No overshoot + Max gain => 49.3
C4 = 100;

