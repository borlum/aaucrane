clear;
close all;

run('../model/cranemodel');

Gx = Hx * s;
W = -W;

% =============================================================================
% TERTIARY LOOP, VELOCITY CONTROLLER
% =============================================================================
Cv = 10;
tertiary = feedback(Cv * Gx, 1);

% =============================================================================
% SECONDARY LOOP, POSTION CONTROLLER
% =============================================================================
Cx = 0.8; %1.1 without angle
secondary = feedback(Cx * tertiary * (1/s), 1);

% =============================================================================
% PRIMARY LOOP, ANGLE CONTROLLER
% =============================================================================
Ca = 7 * (s + 4); %5.44 from rlocus
primary = feedback(secondary * W, Ca);