clear;
close all;

run('../model/cranemodel');

Gx = Hx * s;
W = -W;

% =============================================================================
% TERTIARY LOOP, VELOCITY CONTROLLER
% =============================================================================
Cv = 10;
tertiary = feedback(Cv * Gx, 1);

% =============================================================================
% SECONDARY LOOP, POSTION CONTROLLER
% =============================================================================
Cx = 1.1; %0.8 when angle is applied
secondary = feedback(Cx * tertiary * (1/s), 1);

% =============================================================================
% PRIMARY LOOP, ANGLE CONTROLLER
% =============================================================================
Ca = 7 * (s + 4);
primary = feedback(Ca * secondary * W, 1);